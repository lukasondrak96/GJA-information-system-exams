<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>UserHomepage</title>
    <meta charset="utf-8"/>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../static/css/index.css" th:href="@{/css/index.css}" type="text/css">
</head>
<body>
<div th:include="fragments/topnav :: navbar">
</div>

<div style="margin-top: 100px"></div>
<div class="container">
    <div class="alert alert-danger" th:if="${message != null}">
        <span th:utext="${message}"></span>
    </div>
    <div class="alert alert-success new-room-form-success-message" th:if="${successMessage != null}">
        <span th:utext="${successMessage}"></span>
    </div>
    <div class="btn-new-room">
        <a class="btn btn-success col-lg-4" th:href="@{/logged/rooms/new_room}">Vytvořit novou místnost</a>
    </div>
    <div class="card rooms-card" th:each="roomHolder : ${roomHolders}">
        <a class="stretched-link a-style" th:href="@{/logged/rooms/{id}(id=${roomHolder.room.roomNumber})}">
            <div class="card-header rooms-card-header" th:text="${roomHolder.room.roomNumber}"></div>
            <div class="card-body">
                <div>
                    <span>Počet míst: </span>
                    <span th:text="${roomHolder.getNumberOfSeats()}"></span>
                </div>
                <div class="right-float" th:if="${roomHolder.room.roomCreator.email == #authentication.name}">
                    <a class="btn btn-primary col-lg-1 btn-rooms-z-index">Editovat</a>
                    <a class="btn btn-danger col-lg-1 btn-rooms-z-index"
                       th:href="@{/logged/rooms/{id}/delete(id=${roomHolder.room.roomNumber})}">Smazat</a>
                </div>
                <div>
                    <span>Vytvořil: </span>
                    <span th:text="${roomHolder.room.roomCreator.degreesBeforeName != null} ? ${roomHolder.room.roomCreator.degreesBeforeName}"></span>
                    <span th:text="${roomHolder.room.roomCreator.firstName} + ' ' + ${roomHolder.room.roomCreator.lastName}"></span>
                    <span th:text="${roomHolder.room.roomCreator.degreesBehindName != null} ? ${roomHolder.room.roomCreator.degreesBehindName}"></span>
                </div>
            </div>
        </a>
    </div>
</div>
</body>
</html>
